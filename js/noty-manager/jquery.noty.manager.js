(function(e){e.NotyManager=function(t,n){var r={bubble:{top:10,left:-2,showZero:false},max:20,container:e("<div />"),wrapper:"<div/>",emptyHTML:'<div class="no-notification">There is no notification in here</div>',callback:{onOpen:function(){},onClose:function(){}},useNoty:false,noty:{layout:"bottomRight",timeout:false,closeWith:["button"]}};var i={useNoty:true,increase:true};var s=this;s.settings={};var o=function(){s.settings=e.extend({},r,n);s.$el=t;s.count=0;u()};var u=function(){s.$bubble=e("<span class='noty-manager-bubble'>0</span>");if(isNaN(s.settings.bubble.top))s.settings.bubble.top=-8;if(isNaN(s.settings.bubble.left))s.settings.bubble.left=2;s.$bubble.css({marginLeft:s.settings.bubble.left,top:s.settings.bubble.top});s.$bubble.on("notymanager-flash",function(){s.$bubble.css({opacity:0}).css({top:s.settings.bubble.top-10}).animate({top:s.settings.bubble.top,opacity:1})});s.$el.css("position","relative");s.$el.append(s.$bubble);var t=e(s.settings.emptyHTML);t.addClass("notymanager-empty-html");s.settings.container.prepend(t);a()};var a=function(){s.$el.on("click",function(e){s.$el.toggleClass("notymanager-opened");if(s.$el.hasClass("notymanager-opened"))f();else l();e.preventDefault()})};var f=function(){if(s.settings.callback.onOpen)s.settings.callback.onOpen.call(s)};var l=function(){if(s.settings.callback.onClose)s.settings.callback.onClose.call(s)};var c=function(t,n,r){r=e.extend({},i,r);if(typeof noty=="function"&&s.settings.useNoty&&r.useNoty){r=r||{};r.type=t;r.text=n;r=e.extend({},r,s.settings.noty);noty(r)}if(r.increase)s.increase(1);var o=e('<div class="noty-manager-list-item noty-manager-list-item-'+t+'"/>').html(n);var u=e(s.settings.wrapper).hide();u.append(o);s.settings.container.prepend(u);e(s.settings.container).find(".notymanager-empty-html").remove();u.fadeIn()};s.increase=function(e){e=isNaN(e)?1:e;var t=parseInt(s.$bubble.text());t+=e;t=t>s.settings.max?s.settings.max+"+":t;t=t<1?0:t;s.$bubble.text(t).trigger("notymanager-flash");if(!s.settings.bubble.showZero)s.$bubble.css({opacity:0});return s};s.decrease=function(e){e=isNaN(e)?1:e;s.increase(parseInt("-"+e));return s};s.setCount=function(e){e=e<1?0:e;e=e>s.settings.max?s.settings.max+"+":e;s.$bubble.text(e).trigger("notymanager-flash");if(!s.settings.bubble.showZero)s.$bubble.css({opacity:0});return s};s.getNotificationCount=function(){return e(s.settings.container).children().length};s.getBubbleCount=function(){return s.$bubble.text()};s.clearNotifications=function(){e(s.settings.container).empty();var t=e(s.settings.emptyHTML);t.addClass("notymanager-empty-html");s.settings.container.prepend(t);return s};s.alert=function(e,t){c("alert",e,t);return s};s.info=function(e,t){c("information",e,t);return s};s.warning=function(e,t){c("warning",e,t);return s};s.error=function(e,t){c("error",e,t);return s};s.notification=function(e){c(e.type,e.html,e);return s};o()}})(jQuery)